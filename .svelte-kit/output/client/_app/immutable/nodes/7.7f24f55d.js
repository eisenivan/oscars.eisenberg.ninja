import{S as K,i as Q,s as U,a as y,D as q,E as W,g as _,h as $,k as v,n as j,F as X,t as C,p as Z,G as ee,H as te,e as w,c as G,q as D,b as E,d as x,f as J,r as I,j as k,m as T,l as g,I as ae,J as re,o as B,C as se,x as V}from"../chunks/index.d983bbc4.js";import{g as le}from"../chunks/navigation.e0bfb279.js";import{as as oe,av as ne,aw as ie,ax as ce}from"../chunks/auth.4dcf20aa.js";import{Y as A}from"../chunks/constants.0cc9b3e7.js";import{L as fe}from"../chunks/Loader.1d641830.js";import{P as ue}from"../chunks/PageHeading.2f32458f.js";async function _e(){return{}}const Ee=Object.freeze(Object.defineProperty({__proto__:null,load:_e},Symbol.toStringTag,{value:"Module"}));function F(c,t,e){const a=c.slice();return a[4]=t[e],a}function de(c){let t,e,a,s,p,d,n,u,l,o=[],f=new Map,L,P;e=new ue({props:{$$slots:{default:[pe]},$$scope:{ctx:c}}});let m=c[2]&&R(c),S=c[0];const M=r=>r[4];for(let r=0;r<S.length;r+=1){let i=F(c,S,r),b=M(i);f.set(b,o[r]=Y(b,i))}let h=c[0].length===0&&z();return{c(){t=w("div"),G(e.$$.fragment),a=y(),s=w("p"),p=D("Select a year to view past leaderboards"),d=y(),m&&m.c(),n=y(),u=w("div"),l=w("div");for(let r=0;r<o.length;r+=1)o[r].c();L=y(),h&&h.c(),this.h()},l(r){t=E(r,"DIV",{class:!0});var i=x(t);J(e.$$.fragment,i),a=$(i),s=E(i,"P",{class:!0});var b=x(s);p=I(b,"Select a year to view past leaderboards"),b.forEach(_),i.forEach(_),d=$(r),m&&m.l(r),n=$(r),u=E(r,"DIV",{class:!0});var H=x(u);l=E(H,"DIV",{class:!0});var O=x(l);for(let N=0;N<o.length;N+=1)o[N].l(O);O.forEach(_),L=$(H),h&&h.l(H),H.forEach(_),this.h()},h(){k(s,"class","text-sm text-gray-600 mb-6"),k(t,"class","mx-auto max-w-lg text-center"),k(l,"class","space-y-3"),k(u,"class","mx-auto max-w-lg")},m(r,i){v(r,t,i),T(e,t,null),g(t,a),g(t,s),g(s,p),v(r,d,i),m&&m.m(r,i),v(r,n,i),v(r,u,i),g(u,l);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(l,null);g(u,L),h&&h.m(u,null),P=!0},p(r,i){const b={};i&128&&(b.$$scope={dirty:i,ctx:r}),e.$set(b),r[2]?m?m.p(r,i):(m=R(r),m.c(),m.m(n.parentNode,n)):m&&(m.d(1),m=null),i&1&&(S=r[0],o=ae(o,i,M,1,r,S,f,l,re,Y,null,F)),r[0].length===0?h||(h=z(),h.c(),h.m(u,null)):h&&(h.d(1),h=null)},i(r){P||(C(e.$$.fragment,r),P=!0)},o(r){j(e.$$.fragment,r),P=!1},d(r){r&&_(t),B(e),r&&_(d),m&&m.d(r),r&&_(n),r&&_(u);for(let i=0;i<o.length;i+=1)o[i].d();h&&h.d()}}}function me(c){let t,e;return t=new fe({}),{c(){G(t.$$.fragment)},l(a){J(t.$$.fragment,a)},m(a,s){T(t,a,s),e=!0},p:se,i(a){e||(C(t.$$.fragment,a),e=!0)},o(a){j(t.$$.fragment,a),e=!1},d(a){B(t,a)}}}function pe(c){let t;return{c(){t=D("Leaderboard History")},l(e){t=I(e,"Leaderboard History")},m(e,a){v(e,t,a)},d(e){e&&_(t)}}}function R(c){let t,e;return{c(){t=w("div"),e=D(c[2]),this.h()},l(a){t=E(a,"DIV",{class:!0});var s=x(t);e=I(s,c[2]),s.forEach(_),this.h()},h(){k(t,"class","mx-auto max-w-lg text-center text-red-600 mb-4")},m(a,s){v(a,t,s),g(t,e)},p(a,s){s&4&&V(e,a[2])},d(a){a&&_(t)}}}function Y(c,t){let e,a=t[4]+"",s,p,d=t[4]===A?"(Current)":"",n,u,l;return{key:c,first:null,c(){e=w("a"),s=D(a),p=y(),n=D(d),u=y(),this.h()},l(o){e=E(o,"A",{href:!0,class:!0});var f=x(e);s=I(f,a),p=$(f),n=I(f,d),u=$(f),f.forEach(_),this.h()},h(){k(e,"href",l="/scoreboard/"+t[4]),k(e,"class","block p-4 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg transition-colors text-center font-semibold"),this.first=e},m(o,f){v(o,e,f),g(e,s),g(e,p),g(e,n),g(e,u)},p(o,f){t=o,f&1&&a!==(a=t[4]+"")&&V(s,a),f&1&&d!==(d=t[4]===A?"(Current)":"")&&V(n,d),f&1&&l!==(l="/scoreboard/"+t[4])&&k(e,"href",l)},d(o){o&&_(e)}}}function z(c){let t,e;return{c(){t=w("p"),e=D("No past leaderboards found"),this.h()},l(a){t=E(a,"P",{class:!0});var s=x(t);e=I(s,"No past leaderboards found"),s.forEach(_),this.h()},h(){k(t,"class","text-center text-gray-600 mt-6")},m(a,s){v(a,t,s),g(t,e)},d(a){a&&_(t)}}}function he(c){let t,e,a,s,p;const d=[me,de],n=[];function u(l,o){return l[1]?0:1}return e=u(c),a=n[e]=d[e](c),{c(){t=y(),a.c(),s=q(),this.h()},l(l){W("svelte-s0h7ih",document.head).forEach(_),t=$(l),a.l(l),s=q(),this.h()},h(){document.title="Leaderboard History"},m(l,o){v(l,t,o),n[e].m(l,o),v(l,s,o),p=!0},p(l,[o]){let f=e;e=u(l),e===f?n[e].p(l,o):(te(),j(n[f],1,1,()=>{n[f]=null}),X(),a=n[e],a?a.p(l,o):(a=n[e]=d[e](l),a.c()),C(a,1),a.m(s.parentNode,s))},i(l){p||(C(a),p=!0)},o(l){j(a),p=!1},d(l){l&&_(t),n[e].d(l),l&&_(s)}}}function be(c,t,e){let a;Z(c,oe,n=>e(3,a=n));let s=[],p=!0,d=null;return ee(async()=>{if(!a){await le("/login");return}try{const n=ne(ie,"/settings"),l=(await ce(n)).val()||{},o=Object.keys(l).map(f=>parseInt(f)).sort((f,L)=>L-f);e(0,s=o)}catch(n){console.error("Error loading years:",n),e(2,d="Failed to load years")}finally{e(1,p=!1)}}),[s,p,d]}class xe extends K{constructor(t){super(),Q(this,t,be,he,U,{})}}export{xe as component,Ee as universal};
