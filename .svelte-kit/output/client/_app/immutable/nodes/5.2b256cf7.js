import{S as ge,i as ye,s as Ee,a as N,e as c,v as be,t as A,m as we,f as l,g as I,c as d,b as m,w as he,d as B,o as n,h as M,j as r,x as _e,B as H,p as S,z as j,D as ke,y as z,A as ve,C as Pe,l as xe,E as De,n as fe}from"../chunks/index.e3f5fe78.js";import{as as pe,ao as Ne,al as Ie,aA as $e,aw as Te}from"../chunks/navigation.54cc5851.js";import{L as Ve}from"../chunks/Loader.839f4639.js";import{P as Le}from"../chunks/PageHeading.b0991ad5.js";function Re(s){let a;return{c(){a=A("Your Profile")},l(e){a=B(e,"Your Profile")},m(e,t){M(e,a,t)},d(e){e&&l(a)}}}function Ue(s){let a;return{c(){a=A("Update Profile")},l(e){a=B(e,"Update Profile")},m(e,t){M(e,a,t)},i:fe,o:fe,d(e){e&&l(a)}}}function Ae(s){let a,e;return a=new Ve({props:{color:"#FFF",style:"height: 20px"}}),{c(){be(a.$$.fragment)},l(t){he(a.$$.fragment,t)},m(t,i){_e(a,t,i),e=!0},i(t){e||(z(a.$$.fragment,t),e=!0)},o(t){j(a.$$.fragment,t),e=!1},d(t){ve(a,t)}}}function Be(s){let a,e,t,i,u,P,f,p,E,C,w,x,G,J,_,K,$,T,Q,W,v,X,F,g,b,h,Z,O,D,ee,Y,te,ae;u=new Le({props:{$$slots:{default:[Re]},$$scope:{ctx:s}}});const re=[Ae,Ue],V=[];function oe(o,y){return o[2]?0:1}return b=oe(s),h=V[b]=re[b](s),{c(){a=N(),e=c("div"),t=c("header"),i=c("div"),be(u.$$.fragment),P=N(),f=c("form"),p=c("div"),E=c("label"),C=A("Display Name"),w=N(),x=c("div"),G=A("This will be the name that shows up on the leaderboard. Change this to your name."),J=N(),_=c("input"),K=N(),$=c("div"),T=c("label"),Q=A("Email"),W=N(),v=c("input"),X=N(),F=c("div"),g=c("button"),h.c(),Z=N(),O=c("div"),D=c("button"),ee=A("Reset Password?"),this.h()},l(o){we("svelte-qauvs6",document.head).forEach(l),a=I(o),e=d(o,"DIV",{class:!0});var k=m(e);t=d(k,"HEADER",{});var L=m(t);i=d(L,"DIV",{class:!0});var se=m(i);he(u.$$.fragment,se),se.forEach(l),L.forEach(l),P=I(k),f=d(k,"FORM",{});var R=m(f);p=d(R,"DIV",{});var U=m(p);E=d(U,"LABEL",{class:!0,for:!0});var le=m(E);C=B(le,"Display Name"),le.forEach(l),w=I(U),x=d(U,"DIV",{class:!0});var ne=m(x);G=B(ne,"This will be the name that shows up on the leaderboard. Change this to your name."),ne.forEach(l),J=I(U),_=d(U,"INPUT",{class:!0,type:!0,name:!0}),U.forEach(l),K=I(R),$=d(R,"DIV",{});var q=m($);T=d(q,"LABEL",{class:!0,for:!0});var ie=m(T);Q=B(ie,"Email"),ie.forEach(l),W=I(q),v=d(q,"INPUT",{class:!0,type:!0,name:!0}),q.forEach(l),X=I(R),F=d(R,"DIV",{});var ue=m(F);g=d(ue,"BUTTON",{type:!0,class:!0});var ce=m(g);h.l(ce),ce.forEach(l),ue.forEach(l),R.forEach(l),Z=I(k),O=d(k,"DIV",{});var de=m(O);D=d(de,"BUTTON",{type:!0,class:!0});var me=m(D);ee=B(me,"Reset Password?"),me.forEach(l),de.forEach(l),k.forEach(l),this.h()},h(){document.title="Your Profile",n(i,"class","mx-auto text-center mb-5"),n(E,"class","block text-blue-500"),n(E,"for","displayName"),n(x,"class","text-xs mb-2 text-black-100 italic"),n(_,"class","w-full p-2 mb-6 text-blue-700 border-b-2 border-blue-500 outline-none focus:bg-gray-300"),n(_,"type","text"),n(_,"name","displayName"),n(T,"class","block mb-2 text-blue-500"),n(T,"for","email"),n(v,"class","w-full p-2 mb-6 text-blue-700 border-b-2 border-blue-500 outline-none focus:bg-gray-300"),n(v,"type","email"),n(v,"name","email"),n(g,"type","submit"),n(g,"class","block text-center bg-blue-700 hover:bg-indigo-700 text-white font-bold py-2 px-4 mb-6 rounded mx-auto w-max-md"),g.disabled=s[2],n(D,"type","button"),n(D,"class","block hover:text-indigo-500 text-blue-500 font-bold py-2 px-4 mb-6 mx-auto"),n(e,"class","w-full mt-2 max-w-sm m-auto bg-blue-100 p-5 border-blue-700 border-8 rounded-sm border-opacity-10 shadow-sm")},m(o,y){M(o,a,y),M(o,e,y),r(e,t),r(t,i),_e(u,i,null),r(e,P),r(e,f),r(f,p),r(p,E),r(E,C),r(p,w),r(p,x),r(x,G),r(p,J),r(p,_),H(_,s[0]),r(f,K),r(f,$),r($,T),r(T,Q),r($,W),r($,v),H(v,s[1]),r(f,X),r(f,F),r(F,g),V[b].m(g,null),r(e,Z),r(e,O),r(O,D),r(D,ee),Y=!0,te||(ae=[S(_,"input",s[6]),S(v,"input",s[7]),S(f,"submit",s[3]),S(D,"click",s[4])],te=!0)},p(o,[y]){const k={};y&256&&(k.$$scope={dirty:y,ctx:o}),u.$set(k),y&1&&_.value!==o[0]&&H(_,o[0]),y&2&&v.value!==o[1]&&H(v,o[1]);let L=b;b=oe(o),b!==L&&(De(),j(V[L],1,1,()=>{V[L]=null}),ke(),h=V[b],h||(h=V[b]=re[b](o),h.c()),z(h,1),h.m(g,null)),(!Y||y&4)&&(g.disabled=o[2])},i(o){Y||(z(u.$$.fragment,o),z(h),Y=!0)},o(o){j(u.$$.fragment,o),j(h),Y=!1},d(o){o&&l(a),o&&l(e),ve(u),V[b].d(),te=!1,Pe(ae)}}}function Ce(s,a,e){let t;xe(s,Te,w=>e(5,t=w));let i="",u="",P=!1;const f=async w=>{w.preventDefault(),e(2,P=!0);try{i&&i!==t.displayName&&await Ne(t,{displayName:i}),u&&u!==t.email&&await Ie(t,u),e(2,P=!1),await pe("/")}catch(x){console.error("Error updating profile:",x),e(2,P=!1)}},p=async()=>{try{await $e(t.email),alert("Check your email for password reset instructions")}catch(w){console.error("Error sending reset email:",w)}};t||pe("/login");function E(){i=this.value,e(0,i),e(5,t)}function C(){u=this.value,e(1,u),e(5,t)}return s.$$.update=()=>{s.$$.dirty&32&&t&&(e(0,i=t.displayName||""),e(1,u=t.email||""))},[i,u,P,f,p,t,E,C]}class He extends ge{constructor(a){super(),ye(this,a,Ce,Be,Ee,{})}}export{He as component};
